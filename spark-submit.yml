---
version: '3'
tasks:
  default:
    cmds:
      - |-
        spark-submit \
          --master k8s://http://127.0.0.1:8001 \
          --deploy-mode cluster \
          --name spark-pi \
          --class org.apache.spark.examples.SparkPi \
          --conf spark.kubernetes.authenticate.driver.serviceAccountName=spark \
          --conf spark.executor.instances=5 \
          --conf spark.kubernetes.container.image=apache/spark:3.5.1 \
          local:///opt/spark/examples/jars/spark-examples_2.12-3.5.1.jar
