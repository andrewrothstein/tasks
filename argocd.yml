---
version: '3'
includes:
  argo-raw:
    taskfile: argo-raw.yml
    internal: true
    vars:
      n: argocd
      p: cd
      v: 2.10.1
tasks:
  default:
    deps:
      - apply
  initial-password:
    vars:
      n: '{{ .n }}'
    cmds:
      - |-
        argocd admin initial-password \
          -n {{ .n | default "argocd" | quote }}
  apply:
    cmds:
      - task: argo-raw:apply
  delete:
    cmds:
      - task: argo-raw:delete
