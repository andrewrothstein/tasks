---
version: '3'
vars:
  TEKTON_TRIGGERS_VER: 0.23.0
  TEKTON_TRIGGERS_MIRROR: https://storage.googleapis.com/tekton-releases/triggers/previous/v{{ .TEKTON_TRIGGERS_VER }}
includes:
  release:
    taskfile: kubectl.yml
    vars:
      f: '{{ .TEKTON_TRIGGERS_MIRROR }}/release.yaml'
  interceptors:
    taskfile: kubectl.yml
    vars:
      f: '{{ .TEKTON_TRIGGERS_MIRROR }}/interceptors.yaml'
tasks:
  apply:
    cmds:
      - task: release:apply
      - task: interceptors:apply
  delete:
    cmds:
      - task: interceptors:delete
      - task: release:delete
  default:
    deps:
      - apply
