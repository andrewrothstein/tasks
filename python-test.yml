---
version: '3'
includes:
  pip:
    taskfile: python-pip.yml
  python:
    taskfile: python.yml
  unittest:
    taskfile: python-unittest.yml
  build:
    taskfile: python-build.yml
tasks:
  test:
    cmds:
      - task: pip:upgrade-self
      - task: pip:install
        vars:
          e: '{{ .USER_WORKING_DIR }}'
      - task: unittest
  default:
    deps:
      - build
    cmds:
      - task: test
