---
version: '3'
includes:
#  cert-manager: cert-manager.yml
#  metallb: metallb.yml
#  rook: rook.yml
#  kube-prometheus-stack: kube-prometheus-stack.yml
#  minio: minio.yml
#  tekton-pipelines: tekton-pipelines.yml
#  tekton-triggers: tekton-triggers.yml
#  dragonfly: dragonfly.yml
#  knative: knative.yml
#  cluster_api: cluster_api.yml
#  kubevirt: kubevirt.yml
#  kubevirt-cdi: kubevirt-cdi.yml
#  kubevirt-vms: kubevirt-vm.yml
#  postgresql: postgresql.yml
#  coderv2: coderv2.yml
#  crossplane: crossplane.yml
#  k8ssandra: k8ssandra.yml
  velero: velero.yml
tasks:
  default:
    deps:
      - up
  up:
    cmds:
#      - task: cert-manager:install
#      - task: metallb:install
#      - task: rook:install
#      - task: kube-prometheus-stack:install
#      - task: minio:install
#      - task: tekton-pipelines:apply
#      - task: tekton-triggers:apply
#      - task: dragonfly:install
#      - task: knative:install
#      - task: cluster_api:apply
#      - task: kubevirt:apply
#      - task: kubevirt-cdi:apply
#      - task: kubevirt-vms:apply
#      - task: postgresql:install
#      - task: coderv2:install
#      - task: crossplane:install
#      - task: k8ssandra:install
      - task: velero:install
  delete:
    cmds:
      - task: velero:delete
#      - task: k8ssandra:delete
#      - task: crossplane:delete
#      - task: coderv2:delete
#      - task: postgresql:delete
#      - task: kubevirt-vms:delete
#      - task: kubevirt-cdi:delete
#      - task: kubevirt:delete
#      - task: cluster_api:delete
#      - task: knative:delete
#      - task: dragonfly:delete
#      - task: tekton-triggers:delete
#      - task: tekton-pipelines:delete
#      - task: minio:delete
#      - task: kube-prometheus-stack:delete
#      - task: rook:delete
#      - task: metallb:install
#      - task: cert-manager:delete
